<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1" />
  <title>NephroCare | Home</title>
  <link rel="stylesheet" href="style.css" />
  <link href="https://fonts.googleapis.com/css2?family=Source+Serif+4:wght@400;600;700&display=swap" rel="stylesheet">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">
</head>
<body>
<nav class="navbar navbar-expand-lg navbar-light bg-light shadow-sm">
  <div class="container-fluid">
    <a class="navbar-brand text-primary" href="{{ url_for('home') }}">NephroCare</a>
    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav">
      <span class="navbar-toggler-icon"></span>
    </button>
    <div class="collapse navbar-collapse" id="navbarNav">
      <ul class="navbar-nav ms-auto">
        <li class="nav-item"><a class="nav-link" href="{{ url_for('about') }}">About CKD</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('index') }}">Your Diagnosis</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('diet') }}">Diet Plans</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('chatbot') }}">Chatbot</a></li>
        <li class="nav-item"><a class="nav-link" href="{{ url_for('language') }}">Language</a></li>
      </ul>
      <button id="darkToggle" class="btn btn-outline-primary ms-3">🌙 Dark Mode</button>
    </div>
  </div>
</nav>

<header class="p-5 text-center" style="background: linear-gradient(to right, #005eb8, #0072ce); color: white;">
  <h1 style="font-weight: 700;">NephroCare</h1>
  <p>Your trusted partner in understanding and managing Chronic Kidney Disease</p>
</header>

<main class="container mt-4">
  <hr class="my-4">
  <div class="text-center">

    {% if not prediction_made %}
      <h4 class="text-muted">⚠️ No prediction data found.</h4>
      <p class="mb-3">Please run a diagnosis first to get your personalized diet plan.</p>
      <a href="{{ url_for('index') }}" class="btn btn-outline-primary">🧠 Run Diagnosis</a>

    {% else %}
      <h4 class="mb-3 animate__animated animate__fadeInUp">🧠 AI-Based Diet Recommendations</h4>
      <p class="text-muted mb-2">Based on top features: <strong>{{ top3 | join(', ') }}</strong></p>

      <div class="form-check form-switch d-inline-block mb-3">
        <input class="form-check-input" type="checkbox" id="toggleDiet" checked>
        <label class="form-check-label" for="toggleDiet">Include Non-Veg Options</label>
      </div>

      <div class="row justify-content-center">
        <div class="col-md-5">
          <div class="card p-3 shadow animate__animated animate__fadeInLeft">
            <h5 class="text-success">✅ Foods to Eat</h5>
            <ul id="foodEatList" class="list-group list-group-flush">
              {% for food in diet_nonveg %}
                <li class="list-group-item">{{ food }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
        <div class="col-md-5">
          <div class="card p-3 shadow animate__animated animate__fadeInRight">
            <h5 class="text-danger">🚫 Foods to Avoid</h5>
            <ul class="list-group list-group-flush">
              {% for food in diet_avoid %}
                <li class="list-group-item">{{ food }}</li>
              {% endfor %}
            </ul>
          </div>
        </div>
      </div>

      <a id="downloadPdfBtn" class="btn btn-success mt-4" href="#">📥 Download Diet Plan (PDF)</a>


    {% endif %}
  </div>
</main>

<footer class="bg-light text-center py-3 mt-5">
  <p class="mb-0">&copy; 2025 NephroCare. All rights reserved.</p>
</footer>
      <script>
        const vegList = {{ diet_eat | tojson }};
        const nonvegList = {{ diet_nonveg | tojson }};
        const avoidList = {{ diet_avoid | tojson }};
        const top3 = {{ top3 | tojson }};
      
        function showDiet(type) {
          const eatSection = document.getElementById("eat-list");
          const avoidSection = document.getElementById("avoid-list");
      
          const selectedList = type === "veg" ? vegList : nonvegList;
      
          eatSection.innerHTML = selectedList.map(item => `<li>${item}</li>`).join("");
          avoidSection.innerHTML = avoidList.map(item => `<li>${item}</li>`).join("");
        }
      
        // Default to veg
        window.onload = () => showDiet("veg");
      </script>
      <script src="{{ url_for('static', filename='scripts.js') }}"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="{{ url_for('static', filename='scripts.js') }}"></script>
</body>
</html>
